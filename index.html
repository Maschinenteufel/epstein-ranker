<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>U.S. House Oversight Epstein Estate Documents - Intelligence Briefing</title>
    <meta name="description" content="AI-ranked analysis of 20,000+ Epstein estate documents released by the House Oversight Committee." />

    <!-- Favicons -->
    <link rel="icon" href="/assets/favicon.ico" sizes="32x32" />
    <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/site.webmanifest" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://epsteingate.org/" />
    <meta property="og:title" content="U.S. House Oversight Epstein Estate Documents" />
    <meta property="og:description" content="AI-ranked analysis of 20,000+ Epstein estate documents released by the House Oversight Committee." />
    <meta property="og:image" content="https://epsteingate.org/assets/table.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://epsteingate.org/" />
    <meta property="twitter:title" content="U.S. House Oversight Epstein Estate Documents" />
    <meta property="twitter:description" content="AI-ranked analysis of 20,000+ Epstein estate documents released by the House Oversight Committee." />
    <meta property="twitter:image" content="https://epsteingate.org/assets/table.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/styles/ag-grid.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/styles/ag-theme-alpine.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="loadingOverlay" class="loading-overlay hidden" role="status" aria-live="polite">
      <div class="loading-card">
        <div class="loading-spinner" aria-hidden="true"></div>
        <div class="loading-copy">
          <p id="loadingTitle">Loading Epstein Files…</p>
          <p id="loadingSubtitle" class="loading-subtitle">Preparing data</p>
          <div class="loading-progress">
            <div id="loadingProgress" class="loading-progress-bar"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="inlineLoader" class="inline-loader hidden" aria-live="polite">
      <div class="pulse-dot" aria-hidden="true"></div>
      <p id="inlineLoaderText">Loading remaining files…</p>
    </div>

    <header>
      <div>
        <h1 id="datasetTitle">U.S. House Oversight Epstein Estate Documents</h1>
        <p id="datasetSubtitle">AI-ranked analysis of 20,000+ pages released by the House Oversight Committee. These are the estate documents already made public—not the unreleased files still pending disclosure.</p>
      </div>
    </header>

    <div class="processing-notice">
      <strong id="processingLabel">Note:</strong>
      <span id="processingIntro">We are still processing the remaining files. Currently showing</span>
      <span id="processedCount">—</span>
      <span id="datasetEstimate">of ~25,800 documents.</span>
      <span id="filterWaitNote" class="filter-wait-note hidden">Please wait for data to finish loading before using filters.</span>
    </div>

    <section class="controls">
      <div class="control-group">
        <label for="datasetSelector">Dataset</label>
        <select id="datasetSelector"></select>
      </div>

      <div class="control-group hidden" id="volumeFilterGroup">
        <label for="volumeFilter">Volume</label>
        <select id="volumeFilter">
          <option value="__all__">All volumes</option>
        </select>
      </div>

      <div class="control-group">
        <label for="scoreFilter">Minimum Importance Score: <span id="scoreValue">0</span></label>
        <input type="range" id="scoreFilter" min="0" max="100" value="0" step="1" />
      </div>

      <div class="control-group">
        <label for="leadTypeFilter">Lead Types</label>
        <select id="leadTypeFilter" multiple></select>
      </div>

      <div class="control-group">
        <label for="powerFilter">Power Mentions</label>
        <select id="powerFilter" multiple></select>
      </div>

      <div class="control-group stretch">
        <label for="searchInput">Full-Text Search</label>
        <input type="search" id="searchInput" placeholder="Search headline, insights, tags..." />
      </div>

      <div class="control-group small">
        <label for="limitInput">Max Rows</label>
        <input type="number" id="limitInput" min="0" step="100" placeholder="All" />
      </div>

      <div class="control-group small">
        <label>&nbsp;</label>
        <button id="resetFilters" type="button">Reset Filters</button>
      </div>
    </section>

    <section class="summary" id="summaryPanel">
      <div>
        <p class="metric-label">Rows Loaded</p>
        <p class="metric-value" id="countStat">0</p>
      </div>
      <div>
        <p class="metric-label">Avg. Importance</p>
        <p class="metric-value" id="avgStat">0</p>
      </div>
      <div>
        <p class="metric-label">Top Lead Type</p>
        <p class="metric-value" id="leadStat">–</p>
      </div>
      <div>
        <p class="metric-label">Last Updated</p>
        <p class="metric-value" id="updatedStat">–</p>
      </div>
    </section>

    <section class="grid-panel">
      <div id="grid" class="ag-theme-alpine"></div>
    </section>

    <section id="detailDrawer" class="detail-drawer hidden">
      <div class="detail-header">
        <div>
          <p class="detail-label">Selected File</p>
          <h2 id="detailTitle">Select a row to inspect full context</h2>
          <p class="detail-hint">Click any row in the table to load reasoning and source metadata.</p>
        </div>
        <button id="detailClose" type="button">Close</button>
      </div>
      <div class="detail-content">
        <article>
          <h3>Reasoning</h3>
          <p id="detailReason">—</p>
          <h3>Key Insights</h3>
          <ul id="detailInsights"></ul>
        </article>
        <article>
          <h3>Lead Types</h3>
          <p id="detailLeadTypes">—</p>
          <h3>Power Mentions</h3>
          <p id="detailPower">—</p>
          <h3>Agencies</h3>
          <p id="detailAgencies">—</p>
          <h3>Tags</h3>
          <p id="detailTags">—</p>
          <h3>Model</h3>
          <p id="detailModel">—</p>
          <h3>Source File</h3>
          <div class="source-link-list">
            <p class="source-link-item">
              <span class="source-link-label">Best Available:</span>
              <a id="detailSourceUrl" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
            <p class="source-link-item">
              <span class="source-link-label">DOJ:</span>
              <a id="detailSourceJustice" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
            <p class="source-link-item">
              <span class="source-link-label">Local:</span>
              <a id="detailSourceLocal" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
            <p class="source-link-item">
              <span class="source-link-label">Archive:</span>
              <a id="detailSourceArchive" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
          </div>
        </article>
        <article id="detailTextPanel" class="detail-text">
          <div class="detail-text-header">
            <h3>Original Text</h3>
            <button id="detailTextToggle" type="button" class="text-toggle">Expand</button>
          </div>
          <p id="detailTextPreview" class="text-preview">—</p>
          <pre id="detailText" class="text-full hidden">—</pre>
        </article>
      </div>
    </section>

    <section class="charts">
      <article>
        <h2>Top Power Mentions</h2>
        <canvas id="powerChart" height="120"></canvas>
      </article>
      <article>
        <h2>Lead Type Breakdown</h2>
        <canvas id="leadChart" height="120"></canvas>
      </article>
      <article>
        <h2>Top Agencies</h2>
        <canvas id="agencyChart" height="120"></canvas>
      </article>
      <article>
        <h2>Importance Score Distribution</h2>
        <canvas id="scoreChart" height="120"></canvas>
      </article>
    </section>

    <section class="methodology">
      <details class="methodology-collapse">
        <summary>How the Importance Score Works</summary>
        <p>
          Scoring uses an investigative triage prompt. Inputs can be OCR text or rendered page images, and outputs
          follow a strict JSON schema consumed by this viewer.
        </p>
        <ul>
          <li><strong>Evidence discipline:</strong> The model is instructed to use only explicit evidence in the file and avoid invented names, dates, agencies, locations, or relationships.</li>
          <li><strong>Low-signal handling:</strong> Unreadable, decorative, duplicate, or otherwise weak-content pages are assigned low scores.</li>
          <li><strong>Lead focus:</strong> Scores prioritize investigative value for concrete links between influential actors and misconduct, coercion, trafficking, financial flows, legal exposure, corruption, intelligence activity, or cover-up behavior.</li>
          <li><strong>Entity normalization:</strong> Power mentions are canonicalized (aliases collapsed), and <code>agency_involvement</code> plus <code>lead_types</code> are constrained to controlled vocabularies.</li>
          <li><strong>Output contract:</strong> Each record must return <code>headline</code>, <code>importance_score</code>, <code>reason</code>, <code>key_insights</code>, <code>tags</code>, <code>power_mentions</code>, <code>agency_involvement</code>, and <code>lead_types</code>.</li>
        </ul>
        <p>
          The rubric is integer-based from 0 to 100. Practical interpretation: 0-20 low signal, 21-50 limited to
          moderate leads, 51-70 strong leads, 71-85 high-impact leads, and 86-100 exceptional to blockbuster leads.
        </p>
      </details>
    </section>

    <section class="credits">
      <h2>Source &amp; Credits</h2>
      <p>
        Raw text was sourced from the <em>20,000 Epstein Files</em> dataset prepared by <strong>tensonaut</strong>, who OCR'd ~25,000 pages released by
        the House Oversight Committee.
        The processed CSV mirrors the Hugging Face release: <a href="https://huggingface.co/datasets/tensonaut/EPSTEIN_FILES_20K" target="_blank" rel="noreferrer">tensonaut/EPSTEIN_FILES_20K</a>.
        This project builds atop that foundational OCR work to provide ranking and analysis layers.
      </p>
    </section>

    <footer class="site-footer">
      <a href="https://github.com/sponsors/latent-variable" target="_blank" rel="noopener noreferrer" class="support-link">Support this project</a>
      <a href="https://github.com/latent-variable/epstein-ranker-deploy/issues" target="_blank" rel="noopener noreferrer" class="support-link">Request features / Report issues</a>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/dist/ag-grid-community.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script type="module" src="app.js"></script>
  </body>
</html>
