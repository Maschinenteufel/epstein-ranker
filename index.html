<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>U.S. House Oversight Epstein Estate Documents - Intelligence Briefing</title>
    <meta name="description" content="AI-ranked analysis of 20,000+ Epstein estate documents released by the House Oversight Committee." />

    <!-- Favicons -->
    <link rel="icon" href="/assets/favicon.ico" sizes="32x32" />
    <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/site.webmanifest" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://epsteingate.org/" />
    <meta property="og:title" content="U.S. House Oversight Epstein Estate Documents" />
    <meta property="og:description" content="AI-ranked analysis of 20,000+ Epstein estate documents released by the House Oversight Committee." />
    <meta property="og:image" content="https://epsteingate.org/assets/table.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://epsteingate.org/" />
    <meta property="twitter:title" content="U.S. House Oversight Epstein Estate Documents" />
    <meta property="twitter:description" content="AI-ranked analysis of 20,000+ Epstein estate documents released by the House Oversight Committee." />
    <meta property="twitter:image" content="https://epsteingate.org/assets/table.png" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/styles/ag-grid.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/styles/ag-theme-alpine.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="loadingOverlay" class="loading-overlay hidden" role="status" aria-live="polite">
      <div class="loading-card">
        <div class="loading-spinner" aria-hidden="true"></div>
        <div class="loading-copy">
          <p id="loadingTitle">Loading Epstein Files…</p>
          <p id="loadingSubtitle" class="loading-subtitle">Preparing data</p>
          <div class="loading-progress">
            <div id="loadingProgress" class="loading-progress-bar"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="inlineLoader" class="inline-loader hidden" aria-live="polite">
      <div class="pulse-dot" aria-hidden="true"></div>
      <p id="inlineLoaderText">Loading remaining files…</p>
    </div>

    <header>
      <div>
        <h1 id="datasetTitle">U.S. House Oversight Epstein Estate Documents</h1>
        <p id="datasetSubtitle">AI-ranked analysis of 20,000+ pages released by the House Oversight Committee. These are the estate documents already made public—not the unreleased files still pending disclosure.</p>
      </div>
    </header>

    <div class="processing-notice">
      <strong id="processingLabel">Note:</strong>
      <span id="processingIntro">We are still processing the remaining files. Currently showing</span>
      <span id="processedCount">—</span>
      <span id="datasetEstimate">of ~25,800 documents.</span>
      <span id="filterWaitNote" class="filter-wait-note hidden">Please wait for data to finish loading before using filters.</span>
    </div>

    <section class="controls">
      <div class="control-group">
        <label for="datasetSelector">Dataset</label>
        <select id="datasetSelector"></select>
      </div>

      <div class="control-group hidden" id="volumeFilterGroup">
        <label for="volumeFilter">Volume</label>
        <select id="volumeFilter">
          <option value="__all__">All volumes</option>
        </select>
      </div>

      <div class="control-group">
        <label for="scoreFilter">Minimum Importance Score: <span id="scoreValue">0</span></label>
        <input type="range" id="scoreFilter" min="0" max="100" value="0" step="1" />
      </div>

      <div class="control-group">
        <label for="leadTypeFilter">Lead Types</label>
        <select id="leadTypeFilter" multiple></select>
      </div>

      <div class="control-group">
        <label for="powerFilter">Power Mentions</label>
        <select id="powerFilter" multiple></select>
      </div>

      <div class="control-group stretch">
        <label for="searchInput">Full-Text Search</label>
        <input type="search" id="searchInput" placeholder="Search headline, insights, tags..." />
      </div>

      <div class="control-group small">
        <label for="limitInput">Max Rows</label>
        <input type="number" id="limitInput" min="0" step="100" placeholder="All" />
      </div>

      <div class="control-group small">
        <label>&nbsp;</label>
        <button id="resetFilters" type="button">Reset Filters</button>
      </div>
    </section>

    <section class="summary" id="summaryPanel">
      <div>
        <p class="metric-label">Rows Loaded</p>
        <p class="metric-value" id="countStat">0</p>
      </div>
      <div>
        <p class="metric-label">Avg. Importance</p>
        <p class="metric-value" id="avgStat">0</p>
      </div>
      <div>
        <p class="metric-label">Top Lead Type</p>
        <p class="metric-value" id="leadStat">–</p>
      </div>
      <div>
        <p class="metric-label">Last Updated</p>
        <p class="metric-value" id="updatedStat">–</p>
      </div>
    </section>

    <section class="grid-panel">
      <div id="grid" class="ag-theme-alpine"></div>
    </section>

    <section id="detailDrawer" class="detail-drawer hidden">
      <div class="detail-header">
        <div>
          <p class="detail-label">Selected File</p>
          <h2 id="detailTitle">Select a row to inspect full context</h2>
          <p class="detail-hint">Click any row in the table to load reasoning and source metadata.</p>
        </div>
        <button id="detailClose" type="button">Close</button>
      </div>
      <div class="detail-content">
        <article>
          <h3>Reasoning</h3>
          <p id="detailReason">—</p>
          <h3>Key Insights</h3>
          <ul id="detailInsights"></ul>
        </article>
        <article>
          <h3>Lead Types</h3>
          <p id="detailLeadTypes">—</p>
          <h3>Power Mentions</h3>
          <p id="detailPower">—</p>
          <h3>Agencies</h3>
          <p id="detailAgencies">—</p>
          <h3>Tags</h3>
          <p id="detailTags">—</p>
          <h3>Model</h3>
          <p id="detailModel">—</p>
          <h3>Source File</h3>
          <div class="source-link-list">
            <p class="source-link-item">
              <span class="source-link-label">Best Available:</span>
              <a id="detailSourceUrl" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
            <p class="source-link-item">
              <span class="source-link-label">DOJ:</span>
              <a id="detailSourceJustice" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
            <p class="source-link-item">
              <span class="source-link-label">Local:</span>
              <a id="detailSourceLocal" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
            <p class="source-link-item">
              <span class="source-link-label">Archive:</span>
              <a id="detailSourceArchive" href="#" target="_blank" rel="noopener noreferrer">—</a>
            </p>
          </div>
        </article>
        <article id="detailTextPanel" class="detail-text">
          <div class="detail-text-header">
            <h3>Original Text</h3>
            <button id="detailTextToggle" type="button" class="text-toggle">Expand</button>
          </div>
          <p id="detailTextPreview" class="text-preview">—</p>
          <pre id="detailText" class="text-full hidden">—</pre>
        </article>
      </div>
    </section>

    <section class="charts">
      <article>
        <h2>Top Power Mentions</h2>
        <canvas id="powerChart" height="120"></canvas>
      </article>
      <article>
        <h2>Lead Type Breakdown</h2>
        <canvas id="leadChart" height="120"></canvas>
      </article>
      <article>
        <h2>Top Agencies</h2>
        <canvas id="agencyChart" height="120"></canvas>
      </article>
      <article>
        <h2>Importance Score Distribution</h2>
        <canvas id="scoreChart" height="120"></canvas>
      </article>
    </section>

    <section class="methodology">
      <details class="methodology-collapse">
        <summary>How the Importance Score Works</summary>
        <p>
          Documents are analyzed locally through LM Studio using open-source Qwen-family models. The pipeline supports both OCR text and
          image/PDF-first processing, then scores each item from 0 (no actionable lead) to 100 (critical lead).
        </p>
        <details class="accordion" open>
          <summary>Scoring criteria (click to toggle)</summary>
          <ul>
            <li><strong>Investigative usefulness:</strong> Are there concrete follow-ups such as names, transactions, or dates?</li>
            <li><strong>Controversy &amp; sensitivity:</strong> Would confirmation trigger public scrutiny or legal risk?</li>
            <li><strong>Novelty:</strong> Does this surface new information versus repeating well-known facts?</li>
            <li><strong>Power linkage:</strong> Does the lead implicate heads of state, major financiers, intelligence services, or similar actors?</li>
          </ul>
          <p>Rows above ~70 typically warrant deeper review—they combine unusual claims with explicit power connections.</p>
        </details>
        <details class="accordion">
          <summary>LLM prompt (full text)</summary>
          <pre>
You are an investigative triage model.
Input can be OCR text or document page images.
Use only explicit evidence in the input.
Do not invent names, agencies, dates, or amounts.
If unreadable/low-signal, score low and explain why.
Return JSON only with exactly:
headline, importance_score, reason, key_insights, tags,
power_mentions, agency_involvement, lead_types.
importance_score is an integer 0-100.
Use conservative scoring when evidence is weak.
          </pre>
        </details>
      </details>
    </section>

    <section class="credits">
      <h2>Source &amp; Credits</h2>
      <p>
        Raw text was sourced from the <em>20,000 Epstein Files</em> dataset prepared by <strong>tensonaut</strong>, who OCR'd ~25,000 pages released by
        the House Oversight Committee.
        The processed CSV mirrors the Hugging Face release: <a href="https://huggingface.co/datasets/tensonaut/EPSTEIN_FILES_20K" target="_blank" rel="noreferrer">tensonaut/EPSTEIN_FILES_20K</a>.
        This project builds atop that foundational OCR work to provide ranking and analysis layers.
      </p>
    </section>

    <footer class="site-footer">
      <a href="https://github.com/sponsors/latent-variable" target="_blank" rel="noopener noreferrer" class="support-link">Support this project</a>
      <a href="https://github.com/latent-variable/epstein-ranker-deploy/issues" target="_blank" rel="noopener noreferrer" class="support-link">Request features / Report issues</a>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/dist/ag-grid-community.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script type="module" src="app.js"></script>
  </body>
</html>
